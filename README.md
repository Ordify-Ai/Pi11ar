# Pi11ar - Real Estate Investing Platform

A neighborhood-focused real estate investing platform for Milwaukee's Bay View community. Built with Next.js 15, Firebase, TypeScript, and Tailwind CSS.

## üöÄ Features

- **Next.js 15** - Latest features including App Router and Server Components
- **Firebase Integration** - Complete setup with Firestore, Authentication, and Hosting
- **TypeScript** - Full TypeScript support for better development experience
- **Tailwind CSS** - Utility-first CSS framework with custom design system
- **Radix UI** - Accessible component primitives
- **Firebase Emulators** - Local development with Firebase emulators
- **Authentication** - Ready-to-use authentication system
- **Responsive Design** - Mobile-first responsive design
- **SEO Optimized** - Built-in SEO features and metadata

## üìã Prerequisites

Before you begin, ensure you have the following installed:

- [Node.js](https://nodejs.org/) (version 18 or higher)
- [npm](https://www.npmjs.com/) or [yarn](https://yarnpkg.com/)
- [Firebase CLI](https://firebase.google.com/docs/cli) (`npm install -g firebase-tools`)

## üõ†Ô∏è Quick Start

### 1. Clone the Template

```bash
git clone https://github.com/Ordify-Ai/template.git my-project
cd my-project
```

### 2. Switch to Your Repository

```bash
# Remove the template's git history and start fresh
rm -rf .git

# Initialize new git repository
git init

# Add your repository as the origin
git remote add origin https://github.com/your-username/your-repo-name.git

# Make your first commit
git add .
git commit -m "Initial commit from template"

# Push to your repository
git branch -M main
git push -u origin main
```

### 3. Install Dependencies

```bash
npm install
```

### 4. Setup Firebase

#### Option A: Automated Setup (Recommended)

```bash
# Use your Firebase project (replace with your project ID)
firebase use your-project-id

# Initialize Firebase hosting (this will set up everything automatically)
firebase init hosting
```

**Important: When running `firebase init hosting`, choose these options:**

1. **Public directory**: `out` (not `public`) - This is where Next.js exports static files
2. **Single-page app**: `Yes` - Required for Next.js routing
3. **Set up automatic builds and deploys with GitHub**: `Yes`
4. **GitHub repository**: `your-username/your-repo-name`
5. **Build script**: `npm ci && npm run build`
6. **Overwrite existing workflow files**: `No` (we'll optimize them manually)

**Optional: Environment Variables Setup**

If you need to customize Firebase configuration or use emulators, you can set up environment variables:

```bash
# Optional: Set up environment variables for development
npm run setup:env
```

Or manually create a `.env.local` file:
```env
# Development settings (optional)
NEXT_PUBLIC_USE_FIREBASE_EMULATOR=true
NEXT_TELEMETRY_DISABLED=1
```

**After Firebase setup, optimize the workflows:**

The Firebase CLI will create basic workflows, but you need to optimize them for better performance. Replace the generated workflows with our optimized versions:

1. **Update `.github/workflows/firebase-hosting.yml`** (rename from `firebase-hosting-merge.yml`):
   ```yaml
   # This file was auto-generated by the Firebase CLI
   # https://github.com/firebase/firebase-tools

   name: Deploy to Firebase Hosting on merge
   on:
     push:
       branches:
         - main
   jobs:
     build_and_deploy:
       runs-on: ubuntu-latest
       steps:
         - uses: actions/checkout@v4
         
         - name: Set up Node.js
           uses: actions/setup-node@v4
           with:
             node-version: 20
             cache: 'npm'
             
         - name: Cache Next.js build
           uses: actions/cache@v3
           with:
             path: |
               .next/cache
               node_modules/.cache
             key: ${{ runner.os }}-nextjs-${{ hashFiles('**/package-lock.json') }}
             restore-keys: |
               ${{ runner.os }}-nextjs-
             
         - name: Install dependencies
           run: npm ci
           
         - name: Build Next.js app
           run: npm run build
           env:
             NEXT_TELEMETRY_DISABLED: 1
           
         - uses: FirebaseExtended/action-hosting-deploy@v0
           with:
             repoToken: ${{ secrets.GITHUB_TOKEN }}
             firebaseServiceAccount: ${{ secrets.FIREBASE_SERVICE_ACCOUNT_YOUR_PROJECT_ID }}
             channelId: live
             projectId: your-project-id
   ```

2. **Update `.github/workflows/firebase-hosting-pull-request.yml`**:
   ```yaml
   # This file was auto-generated by the Firebase CLI
   # https://github.com/firebase/firebase-tools

   name: Deploy to Firebase Hosting on PR
   on: pull_request
   permissions:
     checks: write
     contents: read
     pull-requests: write
   jobs:
     build_and_preview:
       if: ${{ github.event.pull_request.head.repo.full_name == github.repository }}
       runs-on: ubuntu-latest
       steps:
         - uses: actions/checkout@v4
         
         - name: Set up Node.js
           uses: actions/setup-node@v4
           with:
             node-version: 20
             cache: 'npm'
             
         - name: Cache Next.js build
           uses: actions/cache@v3
           with:
             path: |
               .next/cache
               node_modules/.cache
             key: ${{ runner.os }}-nextjs-${{ hashFiles('**/package-lock.json') }}
             restore-keys: |
               ${{ runner.os }}-nextjs-
             
         - name: Install dependencies
           run: npm ci
           
         - name: Build Next.js app
           run: npm run build
           env:
             NEXT_TELEMETRY_DISABLED: 1
           
         - uses: FirebaseExtended/action-hosting-deploy@v0
           with:
             repoToken: ${{ secrets.GITHUB_TOKEN }}
             firebaseServiceAccount: ${{ secrets.FIREBASE_SERVICE_ACCOUNT_YOUR_PROJECT_ID }}
             projectId: your-project-id
   ```

**Important:** Replace `your-project-id` and `YOUR_PROJECT_ID` with your actual Firebase project ID in both files.

This will:
- Configure Firebase hosting for your project
- Create a service account for GitHub Actions
- Add the service account secret to your repository
- Generate optimized GitHub Actions workflows with caching
- Set up automatic deployments

**Troubleshooting:**

- **If you chose `public` instead of `out`**: Update `firebase.json` to set `"public": "out"`
- **If workflows fail**: Make sure you've updated both workflow files with the optimized versions above
- **If build fails**: Ensure you're using Node.js 18+ and have all dependencies installed
- **If Firebase config issues**: The Firebase CLI should handle configuration automatically. Only set up environment variables if you need custom settings

#### Option B: Manual Setup

1. **Create a Firebase Project**
   - Go to [Firebase Console](https://console.firebase.google.com/)
   - Click "Add project"
   - Follow the setup wizard

2. **Get Firebase Configuration**
   - In your Firebase project, go to Project Settings
   - Scroll down to "Your apps" section
   - Click the web app icon (</>) to add a web app
   - Copy the configuration object

3. **Configure Environment Variables (Optional)**
   
   The Firebase CLI automatically configures your project. You only need environment variables if you want to:
   - Use Firebase emulators for development
   - Override default Firebase configuration
   - Add custom environment variables
   
   ```bash
   npm run setup:env
   ```
   
   Or manually create a `.env.local` file:
   ```env
   # Development settings (optional)
   NEXT_PUBLIC_USE_FIREBASE_EMULATOR=true
   NEXT_TELEMETRY_DISABLED=1
   
   # Only needed if you want to override Firebase config
   # NEXT_PUBLIC_FIREBASE_API_KEY=your-api-key
   # NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
   # NEXT_PUBLIC_FIREBASE_PROJECT_ID=your-project-id
   # NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
   # NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your-sender-id
   # NEXT_PUBLIC_FIREBASE_APP_ID=your-app-id
   ```

4. **Update Firebase Project**
   ```bash
   # Update .firebaserc with your project ID
   firebase use your-project-id
   
   # Initialize hosting
   firebase init hosting
   ```

### 5. Start Development

```bash
# Start Next.js development server
npm run dev

# Start Firebase emulators (in another terminal)
npm run dev:firebase

# Start both Next.js and Firebase emulators
npm run dev:all
```

Your app will be available at:
- Next.js: http://localhost:3000
- Firebase Emulator UI: http://localhost:4001

## üìÅ Project Structure

```
‚îú‚îÄ‚îÄ app/                    # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ globals.css        # Global styles
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx         # Root layout
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx           # Home page
‚îú‚îÄ‚îÄ components/            # React components
‚îÇ   ‚îú‚îÄ‚îÄ ui/               # Shadcn/ui components
‚îÇ   ‚îî‚îÄ‚îÄ NavBar.tsx        # Navigation component
‚îú‚îÄ‚îÄ lib/                  # Utility libraries
‚îÇ   ‚îú‚îÄ‚îÄ firebase.ts       # Firebase configuration
‚îÇ   ‚îú‚îÄ‚îÄ auth-context.tsx  # Authentication context
‚îÇ   ‚îî‚îÄ‚îÄ utils.ts          # Utility functions
‚îú‚îÄ‚îÄ hooks/                # Custom React hooks
‚îú‚îÄ‚îÄ public/               # Static assets
‚îú‚îÄ‚îÄ scripts/              # Setup scripts
‚îÇ   ‚îú‚îÄ‚îÄ setup-firebase.js # Firebase setup script
‚îÇ   ‚îî‚îÄ‚îÄ setup-env.js      # Environment setup script
‚îú‚îÄ‚îÄ docs/                 # Documentation
‚îÇ   ‚îú‚îÄ‚îÄ setup-guide.md    # Firebase setup guide
‚îÇ   ‚îî‚îÄ‚îÄ ci-cd-setup.md    # CI/CD setup guide
‚îú‚îÄ‚îÄ .github/workflows/    # GitHub Actions workflows
‚îÇ   ‚îú‚îÄ‚îÄ firebase-hosting.yml           # Automated deployment on merge (Recommended)
‚îÇ   ‚îî‚îÄ‚îÄ firebase-hosting-pull-request.yml # Pull request preview deployment
‚îú‚îÄ‚îÄ firebase.json         # Firebase configuration
‚îú‚îÄ‚îÄ firestore.rules       # Firestore security rules
‚îî‚îÄ‚îÄ firestore.indexes.json # Firestore indexes
```

## üîß Available Scripts

| Script | Description |
|--------|-------------|
| `npm run dev` | Start Next.js development server |
| `npm run dev:firebase` | Start Firebase emulators |
| `npm run dev:all` | Start both Next.js and Firebase emulators |
| `npm run build` | Build the application for production |
| `npm run start` | Start the production server |
| `npm run lint` | Run ESLint |
| `npm run setup:firebase` | Setup Firebase project |
| `npm run setup:env` | Setup environment variables |
| `npm run firebase:deploy` | Deploy to Firebase |
| `npm run firebase:deploy:hosting` | Deploy only hosting |

## üî• Firebase Features

### Authentication
- Email/password authentication
- Google OAuth (easily configurable)
- Protected routes
- User context provider

### Firestore
- Real-time database
- Security rules included
- Indexes configuration
- Type-safe queries

### Hosting
- Static site hosting
- Custom domain support
- SSL certificates
- CDN distribution

### Emulators
- Local development environment
- Firestore emulator
- Authentication emulator
- Hosting emulator

## üé® Customization

### Styling
The template uses Tailwind CSS with a custom design system. You can customize:

- Colors in `tailwind.config.ts`
- Global styles in `app/globals.css`
- Component styles in `components/ui/`

### Components
All UI components are built with Radix UI primitives and styled with Tailwind CSS. You can:

- Modify existing components in `components/ui/`
- Create new components in `components/`
- Use the component library as a foundation

### Firebase Configuration
- Update Firebase config in `lib/firebase.ts`
- Modify Firestore rules in `firestore.rules`
- Add indexes in `firestore.indexes.json`

## üöÄ Deployment

### Manual Deployment

1. **Build the application**
   ```bash
   npm run build
   ```

2. **Deploy to Firebase**
   ```bash
   npm run firebase:deploy
   ```

3. **Deploy only hosting**
   ```bash
   npm run firebase:deploy:hosting
   ```

### Automated Deployment (CI/CD)

The template includes GitHub Actions workflows for automated deployment:

#### Automated Deployment (Recommended)
- Uses Firebase's official GitHub Action
- Automatically deploys on merge to `main` branch
- Uses service account authentication (more secure)
- Pre-configured and ready to use

#### Pull Request Previews
- Automatically deploys preview versions for pull requests
- Allows testing changes before merging to main
- Uses Firebase hosting preview channels

**Setup Instructions:**
See [CI/CD Setup Guide](docs/ci-cd-setup.md) for detailed instructions.

### Other Platforms

The template is configured for static export (`output: 'export'` in `next.config.js`), making it compatible with:

- Vercel
- Netlify
- GitHub Pages
- Any static hosting service

## üìö Resources

- [Next.js Documentation](https://nextjs.org/docs)
- [Firebase Documentation](https://firebase.google.com/docs)
- [Tailwind CSS Documentation](https://tailwindcss.com/docs)
- [Radix UI Documentation](https://www.radix-ui.com/)
- [TypeScript Documentation](https://www.typescriptlang.org/docs/)

## ü§ù Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## üìÑ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## üÜò Support

If you encounter any issues or have questions:

1. Check the [documentation](https://github.com/Ordify-Ai/template#readme)
2. Search [existing issues](https://github.com/Ordify-Ai/template/issues)
3. Create a [new issue](https://github.com/Ordify-Ai/template/issues/new)

## üôè Acknowledgments

- [Next.js](https://nextjs.org/) - React framework
- [Firebase](https://firebase.google.com/) - Backend services
- [Tailwind CSS](https://tailwindcss.com/) - CSS framework
- [Radix UI](https://www.radix-ui.com/) - Component primitives
- [Shadcn/ui](https://ui.shadcn.com/) - Component library

---

Built with ‚ù§Ô∏è using Next.js, Firebase, and Tailwind CSS 